<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZiNets Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Tahoma, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
        }
        #chart-container {
            width: 60%;
            height: 100%;
        }
        #info-panel {
            width: 40%;
            padding: 20px;
            background-color: #f5f5f5;
            overflow-y: auto;
            border-left: 1px solid #ddd;
        }
        .node-tooltip {
            position: absolute;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 4px;
            border: 1px solid #ddd;
            pointer-events: none;
            font-size: 14px;
            display: none;
        }
        .character {
            font-size: 72px;
            text-align: center;
            margin-bottom: 10px;
        }
        .pinyin {
            font-size: 18px;
            text-align: center;
            color: #666;
            margin-bottom: 20px;
        }
        .section {
            margin-bottom: 20px;
        }
        .section h3 {
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            color: #333;
        }
        .composition {
            display: flex;
            align-items: center;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .phrases {
            line-height: 1.6;
        }
        .meaning {
            line-height: 1.6;
        }
        .footer {
            margin-top: 20px;
            font-size: 12px;
            color: #666;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="chart-container"></div>
    <div id="info-panel">
        <div class="character" id="selected-char">日</div>
        <div class="pinyin" id="selected-pinyin">rì</div>

        <div class="section">
            <h3>Meaning</h3>
            <div class="meaning" id="selected-meaning">
                sun, day
            </div>
        </div>

        <div class="section">
            <h3>Composition</h3>
            <div class="composition" id="selected-composition">
                A pictograph representing the sun.
            </div>
        </div>

        <div class="section">
            <h3>Related Phrases</h3>
            <div class="phrases" id="selected-phrases">
                日期 (rìqī) - date<br>日子 (rìzi) - day, life<br>生日 (shēngrì) - birthday<br>每日 (měirì) - every day<br>今日 (jīnrì) - today
            </div>
        </div>
        
        <div class="footer">
            Generated by ZiNets on 2025-05-10 20:31:18
        </div>
    </div>

    <script>
        // Character data repository
        const characterData = {
    "曐": {
        "pinyin": "xīng",
        "meaning": "star (variant of 星)",
        "composition": "日 (sun) + 晶 (crystal/bright) + 生 (life/birth) - a bright, crystalline birth from the sun, representing a star.",
        "phrases": "This character is rarely used in modern Chinese. It's a variant of 星, so phrases using 星 would apply."
    },
    "宿": {
        "pinyin": "sù, xiǔ, xiù",
        "meaning": "lodge, stay overnight; constellation; old, former",
        "composition": "宀 (roof) + 百 (hundred) - suggesting a place where many people can stay.",
        "phrases": "宿舍 (sùshè) - dormitory<br>住宿 (zhùsù) - accommodation<br>星宿 (xīngxiù) - constellation<br>宿愿 (sùyuàn) - long-cherished wish<br>借宿 (jièsù) - to stay overnight"
    },
    "锦": {
        "pinyin": "jǐn",
        "meaning": "brocade, embroidered silk; bright, beautiful",
        "composition": "金 (gold) + 帛 (silk) - suggesting valuable silk.",
        "phrases": "锦绣 (jǐnxiù) - brocade, beautiful<br>锦旗 (jǐnqí) - silk banner (presented as a reward)<br>锦上添花 (jǐn shàng tiān huā) - to add flowers to brocade (to make something already good even better)<br>锦衣玉食 (jǐnyīyùshí) - fine clothes and rich food<br>锦标赛 (jǐnbiāosài) - championship"
    },
    "意": {
        "pinyin": "yì",
        "meaning": "idea, thought, meaning, intention, wish",
        "composition": "音 (sound) + 心 (heart) - the sound of the heart, representing thought or intention.",
        "phrases": "意思 (yìsi) - meaning, idea<br>意义 (yìyì) - significance<br>愿意 (yuànyì) - to be willing<br>注意 (zhùyì) - to pay attention<br>意见 (yìjiàn) - opinion"
    },
    "暗": {
        "pinyin": "àn",
        "meaning": "dark, gloomy, hidden, secret",
        "composition": "日 (sun) + 音 (sound) - the sun obscured by sound, representing darkness.",
        "phrases": "黑暗 (hēi'àn) - darkness<br>暗示 (ànshì) - hint, suggest<br>暗恋 (ànliàn) - secret love<br>暗中 (ànzhōng) - secretly<br>暗杀 (ànshā) - assassination"
    },
    "陌": {
        "pinyin": "mò",
        "meaning": "path, street; strange, unfamiliar",
        "composition": "阝(left ear radical, related to land) + 百 (hundred) - suggesting a path through many fields.",
        "phrases": "陌生 (mòshēng) - strange, unfamiliar<br>陌路 (mòlù) - strangers<br>阡陌 (qiānmò) - footpaths between fields<br>陌生的城市 (mòshēng de chéngshì) - unfamiliar city<br>相逢陌路 (xiāngféng mòlù) - to meet as strangers"
    },
    "伯": {
        "pinyin": "bó",
        "meaning": "eldest brother; father's elder brother; earl (noble title)",
        "composition": "亻 (person radical) + 白 (white) - suggesting a senior or elder person.",
        "phrases": "伯父 (bófù) - father's elder brother, uncle<br>伯母 (bómǔ) - wife of father's elder brother, aunt<br>伯仲 (bózhòng) - equally matched<br>老伯 (lǎobó) - old man (respectful term)<br>伯爵 (bójué) - earl (noble title)"
    },
    "日": {
        "pinyin": "rì",
        "meaning": "sun, day",
        "composition": "A pictograph representing the sun.",
        "phrases": "日期 (rìqī) - date<br>日子 (rìzi) - day, life<br>生日 (shēngrì) - birthday<br>每日 (měirì) - every day<br>今日 (jīnrì) - today"
    },
    "白": {
        "pinyin": "bái",
        "meaning": "white; clear, pure; in vain; to say",
        "composition": "A pictograph representing a white grain or the color white.",
        "phrases": "白色 (báisè) - white<br>明白 (míngbái) - to understand<br>白天 (báitiān) - daytime<br>白费 (báifèi) - to waste, to be in vain<br>清白 (qīngbái) - innocent"
    },
    "棉": {
        "pinyin": "mián",
        "meaning": "cotton",
        "composition": "木 (wood) + 帛 (silk) - suggesting a plant that produces a silk-like fiber.",
        "phrases": "棉花 (miánhua) - cotton<br>棉袄 (mián'ǎo) - cotton-padded jacket<br>棉布 (miánbù) - cotton cloth<br>棉签 (miánqiān) - cotton swab<br>纯棉 (chúnmián) - pure cotton"
    },
    "音": {
        "pinyin": "yīn",
        "meaning": "sound, noise, news",
        "composition": "立 (stand) + 日 (sun) - the sound that stands out like the sun.",
        "phrases": "音乐 (yīnyuè) - music<br>声音 (shēngyīn) - voice, sound<br>音响 (yīnxiǎng) - sound system<br>音标 (yīnbiāo) - phonetic symbol<br>音节 (yīnjié) - syllable"
    },
    "智": {
        "pinyin": "zhì",
        "meaning": "wisdom, intelligence",
        "composition": "知 (know) + 日 (sun) - knowing the sun, representing understanding and wisdom.",
        "phrases": "智慧 (zhìhuì) - wisdom<br>智能 (zhìnéng) - intelligent, smart<br>智力 (zhìlì) - intelligence<br>智商 (zhìshāng) - IQ<br>智者 (zhìzhě) - wise person"
    },
    "百": {
        "pinyin": "bǎi",
        "meaning": "hundred",
        "composition": "一 (one) + 白 (white) - originally representing a large number.",
        "phrases": "百分之 (bǎifēnzhī) - percent<br>百姓 (bǎixìng) - common people<br>百货 (bǎihuò) - general merchandise<br>百合 (bǎihé) - lily<br>百般 (bǎibān) - in every possible way"
    },
    "晶": {
        "pinyin": "jīng",
        "meaning": "crystal, clear, bright",
        "composition": "Three 日 (sun) - representing multiple sources of light, hence brightness and clarity.",
        "phrases": "晶体 (jīngtǐ) - crystal<br>水晶 (shuǐjīng) - crystal, rock crystal<br>亮晶晶 (liàngjīngjīng) - sparkling, glittering<br>晶莹 (jīngyíng) - sparkling and translucent<br>晶片 (jīngpiàn) - chip (electronics)"
    },
    "帛": {
        "pinyin": "bó",
        "meaning": "silk fabric, cloth",
        "composition": "白 (white) + 巾 (towel) - suggesting a white cloth, specifically silk.",
        "phrases": "帛书 (bóshū) - silk book (ancient text written on silk)<br>化干戈为玉帛 (huà gāngē wéi yùbó) - to turn hostility into friendship<br>尺帛 (chǐbó) - a length of silk<br>帛画 (bóhuà) - silk painting<br>束帛 (shùbó) - a bundle of silk (as a gift)"
    }
};

        // Initialize ECharts
        const chartContainer = document.getElementById('chart-container');
        const chart = echarts.init(chartContainer);

        // Define the tree structure based on your data
        const treeData = {
    "name": "日",
    "children": [
        {
            "name": "音",
            "symbolSize": 25,
            "children": [
                {
                    "name": "暗",
                    "symbolSize": 25,
                    "children": [],
                    "decomposition": "日 + 音"
                },
                {
                    "name": "意",
                    "symbolSize": 25,
                    "children": [],
                    "decomposition": "心 + 音"
                }
            ],
            "decomposition": "立 + 日"
        },
        {
            "name": "智",
            "symbolSize": 25,
            "children": [],
            "decomposition": "知 + 日"
        },
        {
            "name": "暗",
            "symbolSize": 25,
            "children": [],
            "decomposition": "日 + 音"
        },
        {
            "name": "白",
            "symbolSize": 25,
            "children": [
                {
                    "name": "伯",
                    "symbolSize": 25,
                    "children": [],
                    "decomposition": "亻 + 白"
                },
                {
                    "name": "百",
                    "symbolSize": 25,
                    "children": [
                        {
                            "name": "陌",
                            "symbolSize": 25,
                            "children": [],
                            "decomposition": "阝 + 百"
                        },
                        {
                            "name": "宿",
                            "symbolSize": 25,
                            "children": [],
                            "decomposition": "亻 + 宀 + 百"
                        }
                    ],
                    "decomposition": "一 + 白"
                },
                {
                    "name": "帛",
                    "symbolSize": 25,
                    "children": [
                        {
                            "name": "棉",
                            "symbolSize": 25,
                            "children": [],
                            "decomposition": "木 + 帛"
                        },
                        {
                            "name": "锦",
                            "symbolSize": 25,
                            "children": [],
                            "decomposition": "钅 + 帛"
                        }
                    ],
                    "decomposition": "白 + 巾"
                }
            ],
            "decomposition": "丿 + 日"
        },
        {
            "name": "晶",
            "symbolSize": 25,
            "children": [
                {
                    "name": "曐",
                    "symbolSize": 25,
                    "children": [],
                    "decomposition": "晶 + 生"
                }
            ],
            "decomposition": "日 + 日 + 日"
        }
    ]
};

        // Set the option
        const option = {
            tooltip: {
                trigger: 'item',
                formatter: function(params) {
                    if (params.data.decomposition) {
                        return `<div style="font-size:18px; font-weight:bold; margin-bottom:5px;">${params.data.name}</div>
                                <div>${params.data.decomposition}</div>`;
                    } else {
                        return params.data.name;
                    }
                },
                backgroundColor: 'rgba(255, 255, 255, 0.9)',
                borderColor: '#ccc',
                borderWidth: 1,
                padding: 10,
                textStyle: {
                    color: '#333',
                    fontSize: 16
                }
            },
            series: [
                {
                    type: 'tree',
                    data: [treeData],
                    top: '5%',
                    left: '10%',
                    bottom: '5%',
                    right: '20%',
                    symbolSize: 25,
                    orient: 'TB',
                    symbol: 'circle',
                    label: {
                        position: 'right',
                        distance: 0,
                        fontSize: 35,
                        fontWeight: 'bold'
                    },
                    leaves: {
                        label: {
                            position: 'right',
                            verticalAlign: 'middle',
                            align: 'center'
                        }
                    },
                    emphasis: {
                        focus: 'descendant'
                    },
                    expandAndCollapse: false,
                    animationDuration: 550,
                    animationDurationUpdate: 750
                }
            ]
        };

        // Set the initial option and render
        chart.setOption(option);

        // Handle node click event
        chart.on('click', function(params) {
            const zi = params.data.name;
            if (zi) {
                const charData = characterData[zi];
                if (charData) {
                    // Update info panel
                    document.getElementById('selected-char').textContent = zi;
                    document.getElementById('selected-pinyin').textContent = charData.pinyin;
                    document.getElementById('selected-meaning').textContent = charData.meaning;
                    document.getElementById('selected-composition').textContent = charData.composition;
                    document.getElementById('selected-phrases').innerHTML = charData.phrases;
                }
            }
        });

        // Make chart responsive
        window.addEventListener('resize', function() {
            chart.resize();
        });
    </script>
</body>
</html>
